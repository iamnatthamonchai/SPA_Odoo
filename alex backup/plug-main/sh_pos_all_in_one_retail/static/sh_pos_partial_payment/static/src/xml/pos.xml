<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">


    <t t-name="OrderListScreen" t-inherit="sh_pos_all_in_one_retail.OrderListScreen" t-inherit-mode="extension" owl="1">
        <xpath expr="//button[hasclass('sh_service_back_btn')]" position="after">
            <t t-if="env.pos.config.enable_partial_payment and env.pos.config.sh_allow_to_pay_order">
                <span class="button sh_not_paid_order_button tool" data-tip='Partially Paid Order' t-on-click="draft_order_filter">
                    <!-- <t t-if="!env.isMobile"> Partially Paid Orders
                        <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 93.37 93.37"><path d="M69.53,29.33l5.19-11.16c1.4-3,2.79-6,4.22-9A3.76,3.76,0,0,1,84.1,7.3Q89,9.55,93.93,11.88c2.48,1.17,3.18,3.2,2,5.71q-13,28-26.06,56a6.66,6.66,0,0,0-.57,2.64c-.06,4.61,0,9.22,0,13.83,0,4-2.37,6.36-6.4,6.36H9.56c-3.27,0-5.57-1.65-6.23-4.51a9.4,9.4,0,0,1-.15-2.06c0-21.86,0-43.72-.05-65.58a5.94,5.94,0,0,1,2-4.78C10.48,14.29,15.71,9,21,3.79A2.79,2.79,0,0,1,22.71,3c8.55,0,17.11,0,25.67,0H62.8C67,3,69.27,5.34,69.28,9.5V28.66c0,.22,0,.43,0,.65ZM7,24.24V89.7c0,2.22.58,2.8,2.81,2.8q9.92,0,19.84,0H62.48c2.4,0,2.93-.54,2.93-3V82.61c0-.28,0-.56-.06-1L51.87,89.8a3.65,3.65,0,0,1-.16-.51c-.82-5.22-1.65-10.44-2.43-15.66A2.92,2.92,0,0,1,49.6,72q7.73-16.65,15.47-33.28a3.73,3.73,0,0,0,.33-1.51q0-13.88,0-27.75c0-1.93-.67-2.59-2.63-2.59H24.56V21.76c0,1.84-.64,2.48-2.51,2.48H7Zm77.45.06L60.65,75.45,63.94,77c8-17.1,15.92-34.08,23.87-51.12Zm-6.84-3.19L53.84,72.29l3.28,1.51C65.08,56.72,73,39.73,81,22.66Zm11.83,1.14,3.12-6.7L82.4,10.79l-3.07,6.72ZM20.6,10,10.48,20.28H20.6ZM53.73,76.52c.36,2.38.7,4.56,1.06,6.9l6-3.62ZM51,36.07a8.14,8.14,0,0,0,1,0,2,2,0,0,0,1.72-1.87,1.92,1.92,0,0,0-1.54-1.91,4.87,4.87,0,0,0-1.08-.08H17.44a4.88,4.88,0,0,0-1.08.09,1.86,1.86,0,0,0-1.5,2,1.93,1.93,0,0,0,2.19,1.78H51ZM43.86,47.73a1.89,1.89,0,0,0,2.06-1.8A1.91,1.91,0,0,0,44,43.87c-.33,0-.66,0-1,0H17.16A2.06,2.06,0,0,0,15,45a1.91,1.91,0,0,0,1.89,2.75c4.47,0,9,0,13.42,0S39.36,47.75,43.86,47.73ZM35.52,59.4c2.79,0,5.59,0,8.38,0a1.88,1.88,0,0,0,2-1.84,1.9,1.9,0,0,0-2-2c-.26,0-.53,0-.79,0H17.72a9.07,9.07,0,0,0-1.28.06,1.85,1.85,0,0,0-1.58,1.85A1.89,1.89,0,0,0,17,59.4H35.52Zm19.74-35c1.49,0,2.33-.72,2.33-1.95s-.85-1.94-2.34-1.95c-1.87,0-3.74,0-5.62,0H34.74a2.14,2.14,0,0,0-2.22,1.15,1.94,1.94,0,0,0,1.93,2.74c3.49,0,7,0,10.46,0S51.81,24.42,55.26,24.41ZM36.11,71.07a1.92,1.92,0,0,0,2.06-1.92,2,2,0,0,0-2.07-1.93c-.2,0-.39,0-.59,0h-18a6.46,6.46,0,0,0-1.08,0,1.84,1.84,0,0,0-1.6,1.84,1.9,1.9,0,0,0,2.09,2c3.16,0,6.32,0,9.48,0S32.88,71.1,36.11,71.07Zm-.69,11.69a7.74,7.74,0,0,0,1.08-.05,1.9,1.9,0,0,0,0-3.78,7.8,7.8,0,0,0-1.08,0H18.82c-.69,0-1.38,0-2.07,0a1.92,1.92,0,0,0,0,3.83c.29,0,.59,0,.89,0H35.42Z" transform="translate(-3.13 -3)"/></svg>
                    </t>
                    <t t-else=""> -->
                        <svg class="partial_pay_svg" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 93.37 93.37"><path d="M69.53,29.33l5.19-11.16c1.4-3,2.79-6,4.22-9A3.76,3.76,0,0,1,84.1,7.3Q89,9.55,93.93,11.88c2.48,1.17,3.18,3.2,2,5.71q-13,28-26.06,56a6.66,6.66,0,0,0-.57,2.64c-.06,4.61,0,9.22,0,13.83,0,4-2.37,6.36-6.4,6.36H9.56c-3.27,0-5.57-1.65-6.23-4.51a9.4,9.4,0,0,1-.15-2.06c0-21.86,0-43.72-.05-65.58a5.94,5.94,0,0,1,2-4.78C10.48,14.29,15.71,9,21,3.79A2.79,2.79,0,0,1,22.71,3c8.55,0,17.11,0,25.67,0H62.8C67,3,69.27,5.34,69.28,9.5V28.66c0,.22,0,.43,0,.65ZM7,24.24V89.7c0,2.22.58,2.8,2.81,2.8q9.92,0,19.84,0H62.48c2.4,0,2.93-.54,2.93-3V82.61c0-.28,0-.56-.06-1L51.87,89.8a3.65,3.65,0,0,1-.16-.51c-.82-5.22-1.65-10.44-2.43-15.66A2.92,2.92,0,0,1,49.6,72q7.73-16.65,15.47-33.28a3.73,3.73,0,0,0,.33-1.51q0-13.88,0-27.75c0-1.93-.67-2.59-2.63-2.59H24.56V21.76c0,1.84-.64,2.48-2.51,2.48H7Zm77.45.06L60.65,75.45,63.94,77c8-17.1,15.92-34.08,23.87-51.12Zm-6.84-3.19L53.84,72.29l3.28,1.51C65.08,56.72,73,39.73,81,22.66Zm11.83,1.14,3.12-6.7L82.4,10.79l-3.07,6.72ZM20.6,10,10.48,20.28H20.6ZM53.73,76.52c.36,2.38.7,4.56,1.06,6.9l6-3.62ZM51,36.07a8.14,8.14,0,0,0,1,0,2,2,0,0,0,1.72-1.87,1.92,1.92,0,0,0-1.54-1.91,4.87,4.87,0,0,0-1.08-.08H17.44a4.88,4.88,0,0,0-1.08.09,1.86,1.86,0,0,0-1.5,2,1.93,1.93,0,0,0,2.19,1.78H51ZM43.86,47.73a1.89,1.89,0,0,0,2.06-1.8A1.91,1.91,0,0,0,44,43.87c-.33,0-.66,0-1,0H17.16A2.06,2.06,0,0,0,15,45a1.91,1.91,0,0,0,1.89,2.75c4.47,0,9,0,13.42,0S39.36,47.75,43.86,47.73ZM35.52,59.4c2.79,0,5.59,0,8.38,0a1.88,1.88,0,0,0,2-1.84,1.9,1.9,0,0,0-2-2c-.26,0-.53,0-.79,0H17.72a9.07,9.07,0,0,0-1.28.06,1.85,1.85,0,0,0-1.58,1.85A1.89,1.89,0,0,0,17,59.4H35.52Zm19.74-35c1.49,0,2.33-.72,2.33-1.95s-.85-1.94-2.34-1.95c-1.87,0-3.74,0-5.62,0H34.74a2.14,2.14,0,0,0-2.22,1.15,1.94,1.94,0,0,0,1.93,2.74c3.49,0,7,0,10.46,0S51.81,24.42,55.26,24.41ZM36.11,71.07a1.92,1.92,0,0,0,2.06-1.92,2,2,0,0,0-2.07-1.93c-.2,0-.39,0-.59,0h-18a6.46,6.46,0,0,0-1.08,0,1.84,1.84,0,0,0-1.6,1.84,1.9,1.9,0,0,0,2.09,2c3.16,0,6.32,0,9.48,0S32.88,71.1,36.11,71.07Zm-.69,11.69a7.74,7.74,0,0,0,1.08-.05,1.9,1.9,0,0,0,0-3.78,7.8,7.8,0,0,0-1.08,0H18.82c-.69,0-1.38,0-2.07,0a1.92,1.92,0,0,0,0,3.83c.29,0,.59,0,.89,0H35.42Z" transform="translate(-3.13 -3)"/></svg>
                    <!-- </t> -->
                </span>
            </t>
        </xpath>
        <xpath expr="//tr[hasclass('sh_order_line_header_row')]" position="inside">
            <t t-if="env.pos.config.enable_partial_payment and env.pos.config.sh_allow_to_pay_order">
                <th></th>
            </t>
        </xpath>
        <xpath expr="//th[hasclass('pos_order_state_th')]" position="after">
            <t t-if="env.pos.config.enable_partial_payment and env.pos.config.sh_allow_to_pay_order">
                <th>Amount Due</th>
            </t>
        </xpath>
        <xpath expr="//td[hasclass('pos_order_state')]" position="after">
            <t t-if="env.pos.config.enable_partial_payment and env.pos.config.sh_allow_to_pay_order">
                <td>
                    <t t-if="pos_order.state and pos_order.state == 'invoiced'">
                        <t t-if="pos_order.sh_amount_residual > 0.00">
                            <t t-esc="env.pos.format_currency(pos_order.sh_amount_residual)"/>
                        </t>
                        <t t-else="">
                            <t t-esc="env.pos.format_currency(0)"/>
                        </t> 
                    </t>
                </td>
            </t>
        </xpath>
        <xpath expr="//tr[hasclass('sh_order_line')]" position="inside">
            <t t-if="env.pos.config.enable_partial_payment and env.pos.config.sh_allow_to_pay_order">
                <td>
                    <t t-if="pos_order.state and pos_order.state == 'invoiced'">
                        <t t-if="pos_order.sh_amount_residual > 0.00">
                            <i class="fa fa-money" aria-hidden="true" t-on-click="pay_pos_order"></i>
                        </t> 
                    </t>
                </td>
            </t>
        </xpath>
    </t>

</templates>